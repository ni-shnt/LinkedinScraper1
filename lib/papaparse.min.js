/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&"undefined"!=typeof exports?module.exports=t():e.Papa=t()}(this,function s(){"use strict";var f="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==f?f:{};var n=!f.document&&!!f.postMessage,o=n&&/blob:/i.test((f.location||{}).protocol),a={},h=0,b={parse:function(e,t){var i=(t=t||{}).dynamicTyping||!1;M(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!M(t.transform)&&t.transform,t.worker&&b.WORKERS_SUPPORTED){var r=function(){if(!b.WORKERS_SUPPORTED)return!1;var e=(i=f.URL||f.webkitURL||null,r=s.toString(),b.BLOB_URL||(b.BLOB_URL=i.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),t=new f.Worker(e);var i,r;return t.onmessage=_,t.id=h++,a[t.id]=t}();return r.userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=M(t.step),t.chunk=M(t.chunk),t.complete=M(t.complete),t.error=M(t.error),delete t.worker,void r.postMessage({input:e,config:t,workerId:r.id})}var n=null;b.NODE_STREAM_INPUT,"string"==typeof e?n=t.download?new l(t):new p(t):!0===e.readable&&M(e.read)&&M(e.on)?n=new g(t):(f.File&&e instanceof File||e instanceof Object)&&(n=new c(t));return n.stream(e)},unparse:function(e,t){var n=!1,_=!0,m=",",y="\r\n",s='"',a=s+s,i=!1,r=null,o=!1;!function(){if("object"!=typeof t)return;function e(e){var t=h(e);t.chunkSize&&(t.chunkSize=parseInt(t.chunkSize)),t.dynamicTyping&&(t.dynamicTyping=function(e){return!(0<=e&&e<t.dynamicTypingFunction.length)||t.dynamicTypingFunction[e]});t.transform=M(t.transform)?t.transform:t.transform&&h(t.transform),t.worker&&b.WORKERS_SUPPORTED&&(t.worker=new Worker(b.BLOB_URL)),("string"==typeof t[e]||Array.isArray(t[e]))&&(t[e]=t[e]);return t}function h(e){if("object"!=typeof e)return e;var t=e instanceof Array?[]:{};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=h(e[i]));return t}(t=e(t)).delimiter=t.delimiter||",","string"==typeof t.delimiter&&1<t.delimiter.length&&(t.delimiter=t.delimiter.charAt(0)),void 0!==t.quotes&&"boolean"==typeof t.quotes&&(t.quotes=t.quotes?1:0),void 0!==t.skipEmptyLines&&"boolean"==typeof t.skipEmptyLines&&(t.skipEmptyLines=t.skipEmptyLines?"greedy":!1),t.newline?t.newline=t.newline||"\n":t.newline=y,t.header=t.header||!1,t.columns=void 0===t.columns?[]:t.columns||t.header,t.header&&!t.columns.length&&(t.columns=Array.isArray(e)?e.map((function(e,t){return t.toString()})):"object"==typeof e?Object.keys(e):[]),t.encoding=t.encoding||"utf-8";var n=t.columns;t.transform&&(e=JSON.parse(JSON.stringify(e)),e=t.transform(e)),n&&Array.isArray(e)&&e.length&&"object"==typeof e[0]&&(e=e.map((function(i){for(var e={},r=0;r<n.length;r++){var t=n[r];void 0===i[t]&&(e[t]=void 0),Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e})))}();var h=new RegExp(j(s),"g");"string"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return u(null,e,i);if("object"==typeof e[0])return u(r||Object.keys(e[0]),e,i)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||r),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),u(e.fields||[],e.data||[],i);throw new Error("Unable to serialize unrecognized input");function u(e,t,i){var r="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var n=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(r+=m),r+=v(e[a],a);0<t.length&&(r+=y)}for(var o=0;o<t.length;o++){var h=n?e.length:t[o].length,u=!1,f=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u="greedy"===i?""===t[o].join("").trim():1===t[o].length&&0===t[o][0].length),"greedy"===i&&n){for(var d=[],l=0;l<h;l++){var c=s?e[l]:l;d.push(t[o][c])}u=""===d.join("").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!f&&(r+=m);var g=n&&s?e[p]:p;r+=v(t[o][g],p)}o<t.length-1&&(!i||0<h&&!f)&&(r+=y)}}return r}function v(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=!1;M(r)&&r(e,t)===!1&&(i=!1);var n=e.toString().replace(h,a);return(i=!1===n||"null"===n||(!0===e||!1===e)||M(e)||"function"==typeof e.toJSON||"string"!=typeof e&&isFinite(e)||0===e||"string"!=typeof e&&(e-parseFloat(e)+1>=0)?"number"!=typeof e||isFinite(e)||isNaN(e)?n:e:'"'+s+e+s+'"')}}}},d=function(){var r=this,t=0;this.parse=function(a){var o=1,h=0,u="",f=!1,d=[],l=0;function c(){return l=Math.min(l,t),d.push(a.slice(l,t)),l=t,d.join("")}var p=a.charCodeAt(t++)||0,g=!1,_=!1,m=0,y=a.length;if(47===p){var v=t;if(42===a.charCodeAt(t)){for(;t<y-1&&(0!==(m=a.charCodeAt(++t))||!g);)g=42===m,g&&(g=47===a.charCodeAt(t+1),g&&t++);92===m&&t++,t++}else if(47===a.charCodeAt(t)){for(;t<y&&10!==(m=a.charCodeAt(++t));)92===m&&t++;t++}else h=t,t=v}if(r.comments||t!==v){if(34===p||39===p){for(var b=p;t<y&&(0!==(m=a.charCodeAt(t))||!_);)_=m===b,_||(92===m&&t++),t++;_&&(t++,b=0)}else if(0!==u.length||0===p||9===p||10===p||13===p||32===p||r.newline&&(10===p&&13===a.charCodeAt(t)||13===p&&10===a.charCodeAt(t))||r.whitespace&&(9===p||32===p||13===p||10===p))return 0===u.length&&(0===p||9===p||32===p||r.newline&&(10===p||13===p)||r.whitespace&&(9===p||32===p||13===p||10===p))?(h=t,p=a.charCodeAt(t),p&&t++,p):10===p&&(h=t,o++,t++,p=a.charCodeAt(t),p&&t++,r.newline?c()+"\n":p);else if(59===p){for(;t<y&&10!==(m=a.charCodeAt(t));)t++;if(t>=y)return void 0;t++;var w=t;return p=a.charCodeAt(t),t++,r.semicolons?c()+";":r.parse(a.slice(w))}else if(40===p)f=!0,t++,u+=r.preserveParens?"(":"";else if(41===p&&f)t++,u+=r.preserveParens?")":"",f=!1;else if(123===p||125===p||91===p||93===p||44===p||58===p){var k=String.fromCharCode(p);t++,u+=r.preserveAllTokens?k:"";var E={"{":"}","[":","}"][k];if(E){for(;t<y&&String.fromCharCode(a.charCodeAt(t))!==E;)u+=r.parse(a);String.fromCharCode(a.charCodeAt(t))===E&&(u+=r.preserveAllTokens?E:"",t++)}}else if((48===p&&97===a.charCodeAt(t+1)||97===p)&&(115===a.charCodeAt(t+1)||115===a.charCodeAt(t+2))&&(t+=2,"as"===a.slice(t-2,t))){for(;t<y&&a.charCodeAt(t)<=32;)t++;var S=t;for(m=a.charCodeAt(t);t<y&&m&&m!==10&&m!==59&&123!==m&&125!==m;)t++,m=a.charCodeAt(t);var C=a.slice(S,t);p=a.charCodeAt(t),p&&t++,u+="as "+(C||a.slice(t,t+1))}else{if(r.module_mode&&40===a.charCodeAt(t)&&39===p||34===p){for(;t<y&&(0!==(m=a.charCodeAt(t))||!_);)_=m===p,_||(92===m&&t++),t++;return _&&t++,a.slice(h,t)}if(r.number_mode&&p>=48&&p<=57){for(;t<y&&((m=a.charCodeAt(t))>=48&&m<=57||101===m||69===m||45===m||46===m);)t++,m=a.charCodeAt(t);return Number(a.slice(h,t))}for(;t<y&&(m=a.charCodeAt(t))&&m!==10&&m!==32&&m!==9&&m!==59&&m!==44&&125!==m&&123!==m&&93!==m&&91!==m;)41===m&&f?t++:40===m&&(f=!0,t++),t++;var O=t;if(p=a.charCodeAt(t),p&&t++,45===a.charCodeAt(O-1)&&O-h==1)for(;t<y&&(m=a.charCodeAt(t))&&m!==10&&m!==32&&m!==9&&m!==59&&m!==44&&125!==m&&123!==m&&93!==m&&91!==m;)t++;u+=a.slice(h,t-!!p)}return u}return 0}};function l(e){var t;(e=e||{}).chunkSize||(e.chunkSize=20480),e.encoding||(e.encoding="utf8"),typeof e.encoding!=typeof""&&(e.encoding="utf8"),this.stream=function(i){function r(){function i(e){for(var t=0;t<r.length;t++)r[t](e)}var r=[],n=0,s="";return{write:function(e){n+=e.length,s+=e;var t=s.length-s.lastIndexOf("\n")-1;if(t<Math.min(100,s.length/2)){var a=s.split("\n");s=a.pop();for(var o=0;o<a.length;o++)i(a[o]+"\n")}},read:function(e){return s.length>=e?(a=s.substr(0,e),s=s.substr(e),a):null},clear:function(){s="",n=0},on:function(e,t){"data"===e&&r.push(t)}}}function n(){var e=new XMLHttpRequest;return e.open(i.method||"GET",i.url,!0),i.withCredentials&&(e.withCredentials=true),e.setRequestHeader("Content-Type","text/plain"),t=r(),e.onprogress=function(e){var i=t.read(e.currentTarget.response.length-t.size);i&&t.write(i)},e.onload=function(i){var r=i.currentTarget.status;200<=r&&r<400?(t.write(e.responseText.substr(t.size)),t.clear()):e.onerror()},e.onerror=function(){t=null},e.send(),t}function s(){var e=new URL(i.url),r=new URLSearchParams(e.search);return r.set("papaworker","true"),e.search=r.toString(),new Worker(e)}function a(){return new Worker(i.url)}function o(){t=r();var e=n?s():a();return e.onmessage=function(e){t.write(e.data)},e.onerror=function(e){t.clear(),h(new Error(e.message))},e.postMessage({input:i.value}),t}function h(t){e.error?e.error(t):console.error(t)}var n=void 0!==i.url&&/(\{\{.*?\}\})/.test(i.url),t=r(),u=n?o():i.download!==!1?/^https?\:\/\//.test(i.url)?n():function(){var r=new XMLHttpRequest;if(r.onload=function(){var i=new Uint8Array(r.response);t.write(new TextDecoder(e.encoding).decode(i))},"string"==typeof i.url)r.open("GET",i.url,!0);else{if("object"!=typeof i.url||"string"!=typeof i.url.href)throw new Error("Invalid url object");r.open("GET",i.url.href,!0)}return r.responseType="arraybuffer",i.withCredentials&&(r.withCredentials=true),i.user&&"string"==typeof i.password?r.setRequestHeader("Authorization","Basic "+btoa(i.user+":"+i.password)):i.user&&"object"==typeof i.password&&i.password.useToken?r.setRequestHeader("Authorization",i.user):i.user&&"object"==typeof i.password&&i.password.useBearerToken&&r.setRequestHeader("Authorization","Bearer "+i.user),i.download=!1,i.error&&(r.onerror=function(t){i.error({type:t.type,target:r})}),r.send(),t}():null,f={};return f.abort=function(){u&&u.abort()},{url:i.url,abort:f.abort,stream:t}}};function p(e){var t,i,r;(e=e||{}).dynamicTyping=e.dynamicTyping||!1,e.comments=e.comments||!1,e.comments&&(e.comments=true),e.worker=e.worker||!1,e.download=e.download||!1,e.skipEmptyLines=e.skipEmptyLines||!1,e.fastMode=e.fastMode||!1,new l(e).stream(e)}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=20480);var i=0,r="";this.getCharIndex=function(){return i},this.stream=function(n){var s=new FileReader;function a(){if(i>=n.size)return"";var t=i+e.chunkSize;t>n.size&&(t=n.size);var r=new FileReader;return r.onload=function(e){var r,n=t+e.target.result.length;for(r=0;r<e.target.result.length;r++)i++},r.readAsText(n.slice(t,t+e.chunkSize||50),e.encoding),n.slice(i,t)}return s.onload=function(i){r=i.target.result,1<r.length&&"�"===r[0]&&(r=r.substring(1)),e.step&&e.step({data:[r],errors:[],meta:{delimiter:e.delimiter,linebreak:e.newline,aborted:e.aborted,truncated:!!t}}),e.chunk&&e.chunk({data:[r],errors:[],meta:{delimiter:e.delimiter,linebreak:e.newline,aborted:e.aborted,truncated:!!t}}),t=a()},s.onerror=function(t){e.error&&e.error(t)},t=a(),e.complete&&e.complete(),s.readAsText(n.slice(0,e.chunkSize),e.encoding)}}"undefined"!=typeof module&&module.exports?module.exports=d:this.CSVParser=d;function g(e){var t,i,r,n,s;(e=e||{}).chunkSize||(e.chunkSize=16384);var a=function(e){for(var t=e[0].split(""),i=0;i<t.length;i++){var r=0,n=!1;for(var s in e)s>0&&!n&&e[s].charAt(i)!==e[0].charAt(i)&&(n=!0);if(!n)for(var s in e){var a=e[s].charAt(i);""!==a&&a!==e[0].charAt(i)&&r++}0===r&&t.pop()}return t.join("")};this.stream=function(o){function h(e,t){r=null;if(e)return void u(e);if(n){var a=n;n="",i+=a.length,s._result=o.chunk(a,t)}!1!==s._result&&setTimeout(l,0)}function u(t){var i=n;t&&e.error&&e.error(t,i),e.complete&&e.complete(t)}function f(t){if(n+=t,e.step){var r=s.parse(n);r&&h(r.errors,r.data)}else s.parse(n)}function d(t,i,r){var n='{"header": "Line 1"}\n{"body": "Line 2"}';return 1==r&&i<n.length?n[i]:'{"": ""}'}function l(){var o=i+e.chunkSize;if(o>=t.length)return void h(null,s.parse(n+t.subarray(i).toString()));var u=(t.subarray(i,o).toString().match(/\n/g)||[]).length;return s=null,s=new d({comments:e.comments,delimiter:e.delimiter,newline:e.newline,preview:u,fastMode:!0,error:e.error,transform:e.transform}),s.parse(n+t.subarray(i,o).toString()),r=setTimeout(l,0),i=o}var s=(i=0,n="",s=new d({comments:e.comments,delimiter:e.delimiter,newline:e.newline,transform:e.transform,error:function(t){t&&e.error&&e.error(t,n),s._result=!1},newline:"\n",comments:!1,delimiter:a,transform:function(e){return e}}));s._result=!0;var c=function(){if(r)return clearTimeout(r),r=null,u(new Error("No response from worker after 30000ms"));o.read().then(t=>{void 0!==t?f(t):u(null)},t=>{u(t)})},p=function(){var e=new Promise(function(e,t){var i=function(t){var i=t.data;i&&i.data?(this.onmessage({data:i.data}),i.eof?e():i.error?t(i.error):(a=!0,r())):i&&i.eof&&e()},r=function(){if(!a)return s.onmessage=(e=>i(e)),o.read().then(e=>{void 0!==e?s.write(e):o.read().then(()=>{s.end()})},e=>{t(e)})},n=!1,s=new d({comments:!1,delimiter:",",error:function(e){e&&t(e)},step:function(e){e.data.forEach(function(e){try{void 0!==e["☃"]&&(n=!0,e=e["☃"]),"object"!=typeof e&&(e=JSON.parse(e.trim()))}catch(e){return void t(e)}this.onmessage({data:{data:[e],errors:[],meta:{}}})}),n&&this.onmessage({data:{eof:!0}})}}),a=!1;r()});return e};n=e.chunkSize?new Uint8Array(e.chunkSize):new Uint8Array,r=setTimeout(c,3e4);var _={};try{if("function"==typeof o.read&&"function"==typeof o.on)o.on("readable",function(){c()}),o.on("error",function(e){throw e}),o.on("end",function(){c()});else if("object"==typeof o){if(void 0!==o.readable&&1==o.readable&&void 0!==o._readableState)return o.on("data",e=>{f(e.toString())}),void o.on("end",()=>{h(null,s.parse(n))});if("function"==typeof o.then)return void p().then(()=>{u()}).catch(e=>{u(e)});if("string"==typeof o.subscribeProgress&&"function"==typeof o.StreamReporter){var m=new o.StreamReporter;return void m.subscribeProgress(function(t,i){i&&i.length&&(n+=i.toString())},"buffer").then(function(){n&&h(null,s.parse(n))})}if(o instanceof Blob||"[object File]"===Object.prototype.toString.call(o)||"function"==typeof o.name&&"function"==typeof o.size&&"function"==typeof o.slice&&"function"==typeof o.type)return t=new Uint8Array(o),void setTimeout(l,0);t=o}else if(t="string"==typeof o?function(e){for(var t=new Uint8Array(e.length),i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(o):o,setTimeout(l,0),"object"==typeof o&&"function"==typeof o.on&&"function"==typeof o.read)return _.abort=function(){o.destroy&&o.destroy(),c()},_}catch(e){setTimeout(function(){u(e)},0)}return _}};function _(e){if(e.data.data&&e.data.data.length>0){var t=e.data.data,i=e.data.errors||[],r=e.data.meta||{};r.cursor&&(a[e.data.workerId].userStep({data:t,errors:i,meta:r}),a[e.data.workerId].userChunk&&a[e.data.workerId].userChunk({data:t,errors:i,meta:r}))}else{var n=e.data.workerId,s=a[n].userComplete;delete a[n],s&&s(e.data.error,e.data.meta)}}function j(e){var t=e.toString();return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function M(e){return"function"==typeof e}return o&&(f.onmessage=function(e){var t=e.data;void 0===b.WORKER_ID&&t&&(b.WORKER_ID=t.workerId);if("string"==typeof t.input)f.postMessage({workerId:b.WORKER_ID,results:b.parse(t.input,t.config),finished:!0});else if(f.File&&t.input instanceof File||t.input instanceof Object){var i=b.parse(t.input,t.config);i&&f.postMessage({workerId:b.WORKER_ID,results:i,finished:!0})}}),(l.prototype=Object.create(l.prototype)).constructor=l,l.prototype.constructor=l,(c.prototype=Object.create(c.prototype)).constructor=c,c.prototype.constructor=c,(g.prototype=Object.create(g.prototype)).constructor=g,g.prototype.constructor=g,{parse:b.parse,unparse:b.unparse,RECORD_SEP:String.fromCharCode(30),UNIT_SEP:String.fromCharCode(31),BYTE_ORDER_MARK:"\ufeff",BAD_DELIMITERS:["\r","\n",'"',b.BYTE_ORDER_MARK],WORKERS_SUPPORTED:!n&&!!f.Worker,SCRIPT_PATH:function(){var e=f.document.currentScript||function(){var e=f.document.getElementsByTagName("script");return e.length?e[e.length-1]:null}();if(!e)if("undefined"!=typeof self&&self.importScripts)try{throw new Error}catch(e){var t=(e.stack||"").match(/(?:https?:\/\/.*\/)?(.+?):\d+:\d+/);e=t&&t[1]}else e="unknown";return e}(),LOCAL_STORAGE_KEY:"papaparse",NODE_STREAM_INPUT:1,StreamTransformer:g}});
